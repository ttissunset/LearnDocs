#### 1.1 获取属性描述符

**`Object.getOwnPropertyDescriptor(对象，属性名)`** 用于获取对象中某个属性的属性描述符

- **`value`**：属性的值
- **`writable`**：属性是否可被重写（修改）
- **`enumerable`**：属性是否可被遍历
- **`configurable`**：当前属性的属性描述符是否可被修改
- ==**`get`**：属性读取器 `getter` --> 当读取对象的属性时，相当于调用 `get()`==
- ==**`set`**：属性设置器 `setter` --> 当修改对象的属性时，相当于调用 `set(val)`==

```javascript
let obj = {
    a: 1,
    b: 2
}

const desc = Object.getOwnPropertyDescriptor(obj，'a')
console.log(desc)
 -- > 
    // {
    // 	   value: 1,  --> a 的值
    //     writable: true, --> a 可重写 - 可以修改 a 的值
    //     enumerable: true, --> a 可遍历 - 可通过console.log, for.in. 循环,Object.keys 等获取到属性 a
    //     configurable: true  --> a 的属性描述符可被修改
	// }
```

#### 1.2 设置属性描述符

**`Object.defineProperty(对象，属性名，属性描述符)`**用于修改对象中某个属性的属性描述符

> **如果对象中不存在当前属性，则会为当前对象添加该属性并定义属性描述符**

```javascript
let obj = {
    a: 1,
    b: 2
}

Object.defineProperty(obj,'a',{
    value: 10,
    writable: false
})

console.log(obj.value) // 10
console.log(obj.writable) // false
```

#### 1.3 属性访问器

- 读取对象的某个属性，相当于调用 `get()`
- 设置对象的某个属性，相当于调用 `set()`

```javascript
let obj = {}

Object.defineProperty(obj,'a',{
	get: function() {
        console.log('get')
    	return 123
    },
    set: function(val) {
        console.log('set')
	}
})

obj.a = 3 + 2 --> // set(3+2)
 --> 
	// set
console.log(obj.a) --> // console.log(get())
-->
    // get
    // 123
```

#### 1.4 属性描述符实操

```javascript
class Goods{
    constructor(g){
        // 克隆原始对象
        g = { ...g }
        // 冻结对象，防止外部直接修改对象的属性
        Object.freeze(g)
        
        Object.defineProperty(this, 'data', {
            configurable: false,
            get: function(){
                  return g
            },
            set: function(val){
                throw new Error('data 属性是支付的')
            }
        })
        
        let internalNumValue = 0
		Object.defineProperty(this, 'num', {
            configurable: false,
            get: function(){
                  return internalNumValue
            },
            set: function(val){
                if(typeof val !== 'number'){
                    throw new Error('val 属性必须为数字')
                }
                let temp = parseInt(val)
                if(temp !== val){
                    throw new Error('val 属性必须为整数')
                }
                if(value < 0){
                    throw new Error('val 属性必须大于等于 0')
                }
                internalNumValue = val
            }
        })
        
        
		Object.defineProperty(this, 'totalPrice', {
            get: function(){
                  return this.data.price * this.num
            },
        })
        // 等价于：
        // get totalPrice(){
        // 	   return this.data.price * this.num
        // }
        
        // 密封实例对象，防止用户增加实例对象属性
        Object.seal(this)
    }
}
```

